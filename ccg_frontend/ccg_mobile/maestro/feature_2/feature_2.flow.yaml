appId: host.exp.Exponent
name: "Feature 2 - Outdoor Directions"
---
- assertVisible:
    id: "menu-button"
- tapOn:
    id: "menu-button"
- assertVisible: "ConU CG"
# test home button
- assertVisible: "üè† Home"
- tapOn: "üè† Home"
- tapOn: "Continue to map ‚û§"
#Feature 2.2 - Assert User's Current Location
- assertVisible:
    id: "map-view"
- assertVisible:
    id: "zoom-in-button"
- tapOn:
    id: "zoom-in-button"
- tapOn:
    id: "zoom-in-button"
- scroll #scroll vertically
- tapOn:
    id: "locate-button"
# check that my location button re-centers screen to user's location
- assertVisible: "H"

# test that providing a start point will take the user to the navigation screen
- tapOn: "LS"
- tapOn: "Get Directions"
# test start point other than Current Location
- tapOn: "Start Address"
- tapOn: "Choose start"
# type building name
- inputText:
    text: "Henry F. Hall Building"
    into: "Starting Point"
# select start point
- tapOn:
    text: "Henry F. Hall Building"
    index: 1
# make sure that the navigation screen and relevant information renders
- runFlow:
    when:
      visible: "Google Map"
    file: ./subflows/assert_render_navigation_screen.yaml
#[Deprecated]- assertVisible: "My Location"
- assertVisible: "Start Navigation"
- assertVisible: "Google Map"
- assertVisible: "H"
- assertVisible: "LS"
# switch start and destination
- tapOn:
    text: "Ó∫¥"
    index: 1
- assertVisible: "Walk"
- assertVisible: "Bike"
- assertVisible: "Car"
- assertVisible: "Bus"
- assertVisible: "Shuttle"
- assertVisible: "Google Map"
# leave navigation map
- tapOn: "‚Üê"
# close info popup
- tapOn: "Ó≠ã"
# check that the campus toggle button and other components render
- assertVisible:
    id: "campus-button"
- assertVisible: "Google Map"
- tapOn: "ÔÉâ" #menu
# test that Navigate button from sidebar works properly
- tapOn: "üö∂‚Äç‚ôÇÔ∏è Navigate"
- tapOn: "Destination Address"
- tapOn: "Grey Nuns Garden"
# make sure that the navigation screen and relevant information renders
- runFlow:
    when:
      visible: "Google Map"
    file: ./subflows/assert_render_navigation_screen.yaml
# check direction preview
- tapOn: "Preview"
#[Deprecated]- assertVisible: "Directions"
- assertVisible: "Turn Left"
- assertVisible: "Turn Right"
- tapOn: "‚Üê"
#[Deprecated]- assertVisible: "My Location"
# check that start navigation works
#[Deprecated]- assertVisible: "Start Navigation"
#[Deprecated]- tapOn: "Start Navigation"
- assertVisible:
    text: "Preview"
    enabled: true
#[Deprecated]- assertVisible:
#    text: "Exit"
#    enabled: true
#[Deprecated]- tapOn: "Exit"
- tapOn: "‚Üê"
- assertVisible: "Google Map"
##some tests to make sure that reversing start/destination works with navigation (set destination to something else than current location)
#- setLocation:
#    latitude: 45.497660
#    longitude: -73.579162
